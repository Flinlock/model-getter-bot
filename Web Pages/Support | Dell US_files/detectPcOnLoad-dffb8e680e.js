var callSupportAssistToDetectPc=function(e,t){return new Promise(function(o,n){if(e){var r=!0,i=!1,s=!1;"CurrentConfig"==t&&(s=!0),$(".progress-bar").css({width:"25%"}),e.getClientSystemInfo(r,i,s,function(e){try{"CurrentConfig"==t&&window.sessionStorage.setItem("myProductConfig",JSON.stringify(e)),console.log(e.data.serviceTagData.serviceTag),o(e)}catch(r){console.log(r),n(r)}},function(e){n(e)})}else n("clientApi is undefined "+e)})},getDriverAlerts=function(e){return new Promise(function(t){try{e.getDeviceDrivers(function(e){if($(".progress-bar").css({width:"90%"}),null!==e&&"undefined"!==e&&""!==e){var o=e.data.UpdatesFound?!0:!1;return o}console.log(e),window.sessionStorage.setItem("IntegratedPage_DriversAlerts",JSON.stringify(e)),t()},function(e){console.log("Error Occured in Drivers Scan !"),t()},!1)}catch(o){console.log(o),t()}})},getHardWareAlertInfo=function(e){$(".progress-bar").css({width:"50%"});var t="",o=e.data.serviceTagData.serviceTag,n=(getLWP(),!1);if(null!=e.data&&null!=e.data.hardwareAlerts[0]){var r=e.data.hardwareAlerts[0].Type;if(null!=r&&"PCDR"===r){var t=e.data.hardwareAlerts[0].ODEDiagnosticId,i="http://esupport.dell.com/support/home/us/en/19/product-support/servicetag/"+o+"/diagnose/showresults/"+t;window.sessiontorage.setItem("DiagnosticId_FromHardwareAlert",i),null!=t&&(n=!0,window.sessionStorage.setItem("IsHardwareAlert",n))}}},getLWP=function(){var e="/";if("undefined"!=typeof Dell&&"undefined"!=typeof Dell.Global&&"undefined"!=typeof Dell.Global.lwp){var t=Dell.Global.lwp;e="/"+t.c+"/"+t.l+"/"+t.cs+"/"}return e},addMyProductToRvpsList=function(e){return new Promise(function(t,o){if(e){var n=getLWP();$.ajax({url:"//www.dell.com/support/home"+n+"myproduct/add/"+e,success:function(e){"0"===e?t():o(e)},error:function(e){o(e)}})}else o("sTag empty")})},getServiceTagFromCookieOrSupportAssist=function(e){return new Promise(function(t,o){void 0!=CookieST&&null!=CookieST&&""!=CookieST?t(CookieST):callSupportAssistToDetectPc(e,"serviceTag").then(function(e){var o=e.data.serviceTagData.serviceTag;t(o)})["catch"](function(e){console.log("pc detection failed-"+e)})})},loadDetectedPc=function(e){return new Promise(function(t,o){$.ajax({url:e,success:function(e){t(e)},error:function(e){o(e)}})})},startDetectMyPc=function(e){void 0!==window.showMyPcLoading&&"True"==window.showMyPcLoading&&getServiceTagFromCookieOrSupportAssist(e).then(function(e){return e}).then(function(e){return addMyProductToRvpsList(e)}).then(function(e){console.log("my detected product added")},function(e){console.log("my detected product not added -"+e)})};
//# sourceMappingURL=../../../static/files/js/detectPcOnLoad.js.map
//# sourceMappingURL=detectPcOnLoad-dffb8e680e.js.map